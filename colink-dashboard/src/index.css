body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
        Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    background-color: #f3f4f6; /* Soft light background */
    transition: background-color 0.3s ease-in-out;
}

/* Card default style */
.card {
    background: #ffffff;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.06);
    transition: background 0.3s ease, color 0.3s ease;
}

/* DARK MODE */
body.dark-mode {
    background-color: #0d1117;
    color: #e6edf3;
}

body.dark-mode .card {
    background: #161b22;
    box-shadow: 0 0 0 rgba(0,0,0,0);
}

/* Toggle button */
.dark-toggle-btn {
    background: #161b22;
    color: #fff;
    border-radius: 8px;
    padding: 8px 14px;
    cursor: pointer;
    border: 1px solid #30363d;
}

body.dark-mode .dark-toggle-btn {
    background: #f0f6fc;
    color: #000;
}

/* --------------------------------------------------
   DARK MODE — PREMIUM CARD + PANEL THEME
   -------------------------------------------------- */
body.dark {
    --bg: #0d0d12;              /* slightly lifted from pure black */
    --card-bg: #15151c;         /* softer graphite */
    --chart-bg: #1a1a22;        /* deeper but not black */
    --text-main: #e7e7ef;       /* soft white */
    --text-muted: #9ea2b0;
    --border-soft: #2a2a34;     /* subtle border */
}

/* Card shadows (dark mode only) */
body.dark .card {
    background: var(--card-bg) !important;
    border: 1px solid rgba(255,255,255,0.04);
    box-shadow:
        0 1px 3px rgba(0,0,0,0.45),
        0 6px 18px rgba(0,0,0,0.40);
    backdrop-filter: blur(4px);
}

/* Chart panels — lifted with glow */
body.dark .chart-container {
    background: var(--chart-bg) !important;
    border: 1px solid rgba(255,255,255,0.05);
    box-shadow:
        0 1px 3px rgba(0,0,0,0.4),
        0 4px 12px rgba(0,0,0,0.3);
}

/* Typography (dark mode) */
body.dark h1, 
body.dark h2,
body.dark h3,
body.dark h4,
body.dark h5,
body.dark h6 {
    color: var(--text-main) !important;
}

body.dark p,
body.dark span,
body.dark label,
body.dark li {
    color: var(--text-main) !important;
}

/* Inputs (future-proof) */
body.dark input,
body.dark select,
body.dark button {
    background: #1a1a22 !important;
    color: var(--text-main) !important;
    border: 1px solid #2d2d37 !important;
}

/* Grid lines for Recharts */
body.dark .recharts-cartesian-grid-horizontal line,
body.dark .recharts-cartesian-grid-vertical line {
    stroke: #2e2e38 !important;
}

/* === PARROT HEADER BLOCK ========================== */
.parrot-header-block {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 24px;
}

body.dark .parrot-header-block {
  filter: brightness(1.15);
}

.parrot-header-block h1 {
  margin: 0;
}

.parrot-header-block .subtitle {
  margin-top: 2px;
  font-size: 15px;
  opacity: 0.85;
}

/* === FIX: Stable chart containers === */
.chart-stable-wrapper {
  width: 100%;
  height: 360px;
  min-height: 360px;
  position: relative;
  padding: 16px;
  background: var(--card-bg);
  border-radius: 16px;
  overflow: hidden;
}

.recharts-responsive-container {
  width: 100% !important;
  height: 100% !important;
}
.chart-card {
  padding: 15px;
  position: relative;
}

.card-title {
  font-size: 1rem;
  margin-bottom: 8px;
  text-transform: uppercase;
}

body.dark-mode .chartjs-render-monitor {
  filter: brightness(0.85) contrast(1.2);
}
