repos:
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.14.4
    hooks:
      - id: ruff
        args: [--fix]
      - id: ruff-format

  - repo: https://github.com/pre-commit/mirrors-prettier
    rev: v4.0.0-alpha.8
    hooks: []  # placeholder off by default

  - repo: local
    hooks:
      - id: check-bom-crlf-workflows
        name: Check BOM/CRLF in workflow YAMLs
        entry: pwsh -NoProfile -ExecutionPolicy Bypass -File tools/check-bom.ps1
        language: system
        pass_filenames: false
        files: ^\.github/workflows/.*\.(yml|yaml)$

      - id: block-adding-venv
        name: Prevent committing .venv
        entry: pwsh -NoProfile -ExecutionPolicy Bypass -File tools/block-venv.ps1
        language: system
        pass_filenames: false